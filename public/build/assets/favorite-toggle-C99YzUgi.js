document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".favorite-toggle").forEach(o=>{o.addEventListener("click",function(r){r.preventDefault();let e=this.getAttribute("data-crypto"),n=document.getElementById("star-"+e);const c=document.querySelector('meta[name="csrf-token"]').getAttribute("content");fetch("/favorites/toggle",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":c},body:JSON.stringify({crypto_id:e})}).then(t=>t.json()).then(t=>{t.isFavorite?n.setAttribute("fill","#facc15"):n.setAttribute("fill","#d1d5db")})})})});
